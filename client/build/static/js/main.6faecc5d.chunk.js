(this["webpackJsonpproject-one-listen-client"]=this["webpackJsonpproject-one-listen-client"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(28),r=n.n(s),i=n(56),l=n(10),o=n(40),j=n(118),d=n(1),h=function(e){var t=e.style,n=e.options,c=e.message,a=e.close;return Object(d.jsx)(j.a,{variant:"success"===n.type?"success":"info"===n.type?"info":"error"===n.type?"danger":"info",style:t,onClose:function(){return a()},dismissible:!0,children:Object(d.jsx)("p",{children:c})})},u=n(16),b=n.n(u),m=n(24),x=n(26),O=n(116),p=n(119),f=n(108),g=n(31),y=n(32),v=n.n(y),w=function(){var e=Object(l.e)(),t=a.a.useState(),n=Object(x.a)(t,2),c=n[0],s=n[1];a.a.useEffect((function(){v.a.get("/auth/user").then((function(e){s(e.data)})).catch((function(e){console.error(e)}))}),[]);var r=function(){var t=Object(m.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("/logout");case 2:n=t.sent,c=n.status,s({}),200===c&&e.replace("/");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(O.a,{className:"mb-5 sticky-top",bg:"light",expand:"lg",children:[Object(d.jsx)(g.b,{className:"navbar-brand",to:"/",children:Object(d.jsx)("h3",{children:"One Listen"})}),Object(d.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(O.a.Collapse,{id:"basic-navbar-nav",children:Object(d.jsx)(p.a,{className:"ml-auto",children:(null===c||void 0===c?void 0:c._id)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g.b,{className:"nav-link",to:"/profile/".concat(c._id),children:c.name}),Object(d.jsx)(p.a.Link,{href:"/account",children:"Account"}),Object(d.jsx)(f.a,{variant:"link",className:"nav-link",onClick:function(){return r()},children:"Log out"})]}):Object(d.jsx)(p.a.Link,{href:"/auth/google",children:"Sign in"})})})]})})},N=n(113),k=n(117),C=n(109),S=n(69),L=n(120),Y=n(110),T=function(e){var t=e.fileId,n=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("/file/".concat(t));case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=a.a.useState("hidden"),s=Object(x.a)(c,2),r=s[0],i=s[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(S.a,{xs:12,children:Object(d.jsxs)("ul",{className:"list-inline my-2 float-right",children:[Object(d.jsx)("li",{className:"list-inline-item",children:Object(d.jsx)(f.a,{variant:"link",children:"Email"})}),Object(d.jsx)("li",{className:"list-inline-item",children:Object(d.jsx)(f.a,{variant:"link",children:"Save to GDrive"})}),Object(d.jsx)("li",{className:"list-inline-item",children:Object(d.jsx)(f.a,{variant:"link",children:"Download"})}),Object(d.jsx)("li",{className:"list-inline-item",children:Object(d.jsx)(f.a,{variant:"link",onClick:function(){return i("visible")},children:"Delete"})})]})}),Object(d.jsxs)(S.a,{xs:12,style:{visibility:r},className:"d-flex justify-content-around",children:[Object(d.jsx)("small",{children:Object(d.jsx)("strong",{children:"Are you sure you want to delete? This cannot be undone."})}),Object(d.jsx)(f.a,{variant:"secondary",size:"sm",onClick:function(){return n(t)},children:"Delete"}),Object(d.jsx)(f.a,{variant:"warning",size:"sm",onClick:function(){return i("hidden")},children:Object(d.jsx)("strong",{children:"Cancel"})})]})]})})},D=n(114),I=function(e){var t=e.file,n=a.a.useState(1),c=Object(x.a)(n,2),s=c[0],r=c[1],i=a.a.useRef();return t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("audio",{ref:i,controls:!0,style:{width:"100%"},children:[Object(d.jsx)("source",{src:t.selfLink,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),Object(d.jsx)("div",{className:" small text-muted d-flex justify-content-between",children:["0.5x","-","-","1.0x","+","+","+","+","+","+","2.0x","+","+","2.5x","+","+","3.0x"].map((function(e,n){return Object(d.jsx)("span",{className:"py-1",children:e},"pbSpeed-".concat(t._id,"-indicator-").concat(n))}))}),Object(d.jsx)(D.a.Control,{name:"pbSpeed-".concat(t._id),value:s,type:"range",step:.1,min:.5,max:3,onChange:function(e){r(e.target.value),i.current.playbackRate=s}})]}):null},F=function(e){var t=e.file;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(L.a.Item,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsxs)(S.a,{lg:6,children:[Object(d.jsx)("h4",{children:t.metadata.title}),Object(d.jsx)("p",{className:"small text-truncate",children:Object(d.jsx)("a",{href:t.sourceUrl,alt:t.metadata.title,children:t.sourceUrl})}),Object(d.jsxs)("p",{children:[Object(d.jsx)(Y.a,{pill:!0,variant:"primary",children:t.job.status}),Object(d.jsx)("small",{className:"text-muted ml-2",children:t.metadata.excerpt})]})]}),Object(d.jsxs)(S.a,{lg:6,children:[Object(d.jsx)(I,{file:t}),Object(d.jsx)(T,{fileId:t._id})]})]})})})},q=function(e){var t=e.files;return Object(d.jsx)(C.a,{children:Object(d.jsx)(S.a,{children:Object(d.jsx)(L.a,{variant:"flush",className:"mt-5",children:t.map((function(e,t){return Object(d.jsx)(F,{file:e},"".concat(e.owner,"-file-").concat(t))}))})})})},G=n(111),U=function(e){var t=e.user;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(S.a,{md:4,className:"d-flex justify-content-center",children:Object(d.jsx)(G.a,{className:"align-self-center",fluid:!0,src:t.photo,roundedCircle:!0})}),Object(d.jsx)(S.a,{md:8,children:Object(d.jsxs)(L.a,{variant:"flush",children:[[["Name","name"],["Email","email"]].map((function(e,n){var c=Object(x.a)(e,2),a=c[0],s=c[1];return Object(d.jsx)(L.a.Item,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(S.a,{md:3,children:Object(d.jsx)("strong",{children:a})}),Object(d.jsx)(S.a,{md:9,children:t[s]})]})},"profile-item-".concat(n))})),Object(d.jsx)(L.a.Item,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(S.a,{md:3,children:Object(d.jsx)("strong",{children:"Day Limits"})}),Object(d.jsx)(S.a,{md:9,children:"".concat(t.limits.perDayUsed," files\n            uploaded. You have ").concat(t.limits.perDayLimit-t.limits.perDayUsed," uploads left for the day.")})]})}),Object(d.jsx)(L.a.Item,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(S.a,{md:3,children:Object(d.jsx)("strong",{children:"Month Limits"})}),Object(d.jsx)(S.a,{md:9,children:"".concat(t.limits.perMonthUsed," files uploaded. You have\n            ").concat(t.limits.perMonthLimit-t.limits.perMonthUsed," uploads left\n            for the month.")})]})}),Object(d.jsx)(L.a.Item,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsx)(S.a,{md:3,children:Object(d.jsx)("strong",{children:"File Limits"})}),Object(d.jsx)(S.a,{md:9,children:"You have ".concat(t.files.owner.length," file(s). You can keep up to\n            ").concat(t.files.ownerLimit," files at any time.")})]})})]})})]})})},E=n(73),_=n(112),A=function(){var e=Object(o.c)(),t=function(){var t=Object(m.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/file",{url:n});case 3:201===(c=t.sent).status&&e.success("Link uploaded successfully. Processing file... ".concat((new Date).toLocaleString("en-SG",{dateStyle:"long",timeStyle:"long"}),"\n").concat(c.data.sourceUrl)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.error(t.t0.response.data),console.error(t.t0.stack);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)(C.a,{children:Object(d.jsxs)(S.a,{children:[Object(d.jsxs)("ol",{className:"pl-4 mt-5",children:[Object(d.jsx)("li",{children:"Submit url to a blog post or news article. Do not submit the same article more than once."}),Object(d.jsx)("li",{children:"Conversion will take place in the background. You may follow the status of your article in the list below. This may take from a few minutes to an hour, depending on the server."}),Object(d.jsx)("li",{children:"In case of errors, or your article has not been converted after some time, delete the item and try again."})]}),Object(d.jsx)(E.a,{onSubmit:function(e,n){var c=n.resetForm;t(e.url),c()},initialValues:{url:""},enableReinitialize:!0,children:function(e){var t=e.values,n=e.handleChange,c=e.handleSubmit;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(_.a,{className:"mb-3",children:[Object(d.jsx)(D.a.Control,{type:"text",id:"url",name:"url",placeholder:"E.g. https://www.gemini.com/cryptopedia/compound-finance-defi-crypto",autoComplete:"off",value:t.url,onChange:n}),Object(d.jsx)(_.a.Append,{children:Object(d.jsx)(f.a,{variant:"secondary",onClick:c,children:"Submit"})})]}),Object(d.jsx)(D.a.Text,{className:"text-muted",children:"Note: This service does not endorse the distribution of copyrighted materials. For personal use only."})]})}})]})})},M=function(){var e=Object(l.f)(),t=Object(k.a)(["user",e.params.id],Object(m.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/user/".concat(e.params.id));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)}))),{keepPreviousData:!0}),n=t.data,c=t.status;return"Loading"===c?"Loading":"success"===c&&Object(d.jsxs)(N.a,{children:[Object(d.jsx)(U,{user:n}),Object(d.jsx)(A,{}),Object(d.jsx)(q,{files:n.files.owner})]})},P=n(121),R=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"jumbotron",children:Object(d.jsxs)("div",{className:"container text-center",children:[Object(d.jsx)(G.a,{fluid:!0,roundedCircle:!0,className:"w-25",src:"/images/icons/brand.png",alt:"brand-logo"}),Object(d.jsx)("h1",{className:"display-3",children:"One Listen"}),Object(d.jsx)("h3",{children:"Convert web articles to mp3."}),Object(d.jsx)("p",{children:"A web application which converts your web articles into audio files. Ideal for readers who want to consume content on-the-go."}),Object(d.jsx)("a",{className:"btn btn-primary",href:"/#readme",children:"Get started"}),Object(d.jsx)("a",{className:"btn btn-outline-secondary",href:"/#features",children:"Learn more"})]})}),Object(d.jsx)("section",{id:"features",className:"py-5",children:Object(d.jsx)(N.a,{children:Object(d.jsxs)(C.a,{children:[Object(d.jsxs)(S.a,{md:4,children:[Object(d.jsx)("h2",{children:"Bring your own content"}),Object(d.jsx)("p",{children:"There are no pre-selected or curated content. You can save any web news articles you want to read. Just as long as their body text can be parsed by the web server."})]}),Object(d.jsxs)(S.a,{md:4,children:[Object(d.jsx)("h2",{children:"Listen on speed mode"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("a",{href:"https://www.theatlantic.com/technology/archive/2015/06/the-rise-of-speed-listening/396740/",children:"Speed listening is the new speed reading."}),"It helps us learn more things, quicker. We can always go back to gloss through the details, once we are brought up to speed with the general content."]})]}),Object(d.jsxs)(S.a,{md:4,children:[Object(d.jsx)("h2",{children:"Upload your own text"}),Object(d.jsx)("span",{className:"badge badge-primary",children:"Coming soon"}),Object(d.jsx)("p",{children:"Paste text or upload your text files. We'll read them back to you."})]})]})})}),Object(d.jsx)("section",{id:"readme",className:"bg-light py-5",children:Object(d.jsxs)(N.a,{children:[Object(d.jsx)("h3",{children:"Please read before signing up:"}),Object(d.jsxs)("ol",{children:[Object(d.jsx)("li",{className:"my-1",children:"The audio files generated are meant for personal use only. Please do not distribute copyrighted materials."}),Object(d.jsx)("li",{className:"my-1",children:"This service is hosted on personal cloud free-tier. The page may load slow at certain times."}),Object(d.jsx)("li",{className:"my-1",children:"To prevent abuse of the application:"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{className:"my-1",children:"You may only keep up to ten(10) converted files at any time."}),Object(d.jsx)("li",{className:"my-1",children:"You may only upload five(5) times a day, and for a total of thirty(30) times in a month."})]}),Object(d.jsx)("li",{className:"my-1",children:"Only English conversion is supported currently. Other languages will be added in the future."}),Object(d.jsxs)("li",{className:"my-1",children:["You will be requested to ",Object(d.jsx)("strong",{children:"Sign in with Google"}),", which will grant the web application access to the following:",Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"Your registered name for the google account"}),Object(d.jsx)("li",{children:"Your registered email"}),Object(d.jsx)("li",{children:"Your google account id"}),Object(d.jsx)("li",{children:"Your language preference"}),Object(d.jsx)("li",{children:"Your profile picture"}),Object(d.jsx)("li",{children:"Your access and refresh tokens, which are required for the application to read, write, and delete files on your Google Drive. It is required for uploading your audio files to Google Drive."}),Object(d.jsx)("li",{children:Object(d.jsx)("strong",{children:"A user account will be created using the information above and are kept in our database. You can see them on your profile page. You may request for deletion of your account at any time. Consequently, all your files will be deleted forever too."})})]}),Object(d.jsx)("li",{children:"Strictly no confidential, illegal, violent, and/or pornographic content."})]})]})]})}),Object(d.jsx)("section",{id:"signin",className:"py-5",children:Object(d.jsx)(N.a,{children:Object(d.jsx)(P.a,{className:"mx-auto my-5",style:{width:"23rem"},children:Object(d.jsxs)(P.a.Body,{children:[Object(d.jsx)(P.a.Title,{children:"Create account / Log in"}),Object(d.jsxs)("a",{className:"btn btn-danger btn-block my-5",href:"http://localhost:5000/auth/google",children:[Object(d.jsx)("span",{children:Object(d.jsx)("i",{className:"bi bi-google mr-3"})}),"Sign in with Google"]}),Object(d.jsx)("small",{children:"Note: The application will be requesting for profile information (name, email, googleId) and access to read and write files to your Google Drive."})]})})})})]})},z=function(){var e={position:o.b.BOTTOM_CENTER,timeout:5e3,offset:"10px"};return Object(d.jsxs)(o.a,Object(i.a)(Object(i.a)({template:h},e),{},{children:[Object(d.jsx)(w,{}),Object(d.jsx)(l.a,{path:"/profile/:id",component:M}),Object(d.jsx)(l.a,{exact:!0,path:"/",component:R})]}))},B=n(115),J=n(72),W=new B.a;r.a.render(Object(d.jsx)(J.a,{client:W,children:Object(d.jsx)(g.a,{children:Object(d.jsx)(z,{})})}),document.querySelector("#root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.6faecc5d.chunk.js.map