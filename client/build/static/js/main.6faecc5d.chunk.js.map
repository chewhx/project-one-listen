{"version":3,"sources":["components/Alert.jsx","components/Nav.jsx","components/Profile/FileListItem/Actions.jsx","components/Profile/FileListItem/AudioPlayer.jsx","components/Profile/FileListItem.jsx","components/Profile/FileList.jsx","components/Profile/ProfileCard.jsx","components/Profile/UploadGroup.jsx","pages/Profile.jsx","pages/Home.jsx","App.js","index.js"],"names":["AlertTemplateDismissible","style","options","message","close","Alert","variant","type","onClose","dismissible","Nav_","history","useHistory","React","useState","user","setUser","useEffect","axios","get","then","res","data","catch","err","console","error","logoutHandler","a","status","replace","Navbar","className","bg","expand","to","Toggle","aria-controls","Collapse","id","Nav","_id","name","Link","href","Button","onClick","FileListItemActions","fileId","deleteFile","delete","log","showDeleteModal","setShowDeleteModal","Row","Col","xs","visibility","size","AudioPlayer","file","pbSpeed","setPbSpeed","audioPlayerRef","useRef","ref","controls","width","src","selfLink","map","each","idx","Form","Control","value","step","min","max","onChange","e","target","current","playbackRate","FileListItem","ListGroup","Item","lg","metadata","title","sourceUrl","alt","Badge","pill","job","excerpt","Actions","FileList","files","owner","ProfileCard","md","Image","fluid","photo","roundedCircle","label","key","limits","perDayUsed","perDayLimit","perMonthUsed","perMonthLimit","length","ownerLimit","UploadGroup","alert","useAlert","postFile","url","post","success","Date","toLocaleString","dateStyle","timeStyle","response","stack","onSubmit","values","resetForm","initialValues","enableReinitialize","handleChange","handleSubmit","InputGroup","placeholder","autoComplete","Append","Text","Profile","match","useRouteMatch","useQuery","params","fetch","json","keepPreviousData","Container","Home","Card","Body","Title","App","position","positions","BOTTOM_CENTER","timeout","offset","template","AlertTemplate","path","component","exact","queryClient","QueryClient","ReactDOM","render","QueryClientProvider","client","document","querySelector"],"mappings":"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","file":"static/js/main.6faecc5d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nconst AlertTemplateDismissible = ({ style, options, message, close }) => {\n  return (\n    <Alert\n      variant={\n        options.type === \"success\"\n          ? \"success\"\n          : options.type === \"info\"\n          ? \"info\"\n          : options.type === \"error\"\n          ? \"danger\"\n          : \"info\"\n      }\n      style={style}\n      onClose={() => close()}\n      dismissible\n    >\n      <p>{message}</p>\n    </Alert>\n  );\n};\n\nexport default AlertTemplateDismissible;\n","import React from \"react\";\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\n// import { useQuery } from \"react-query\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Nav_ = () => {\n  const history = useHistory();\n\n  const [user, setUser] = React.useState();\n\n  React.useEffect(() => {\n    axios\n      .get(`/auth/user`)\n      .then((res) => {\n        setUser(res.data);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, []);\n\n  // const { data: user, status } = useQuery(\"user\", getUser, {\n  //   keepPreviousData: true,\n  //   refetchOnMount: true,\n  //   refetchOnWindowFocus: false,\n  //   refetchOnReconnect: true,\n  // });\n\n  const logoutHandler = async () => {\n    const { status } = await axios.get(`/logout`);\n    setUser({});\n    if (status === 200) {\n      history.replace(`/`);\n    }\n  };\n\n  return (\n    <>\n      <Navbar className=\"mb-5 sticky-top\" bg=\"light\" expand=\"lg\">\n        <NavLink className=\"navbar-brand\" to=\"/\">\n          <h3>One Listen</h3>\n        </NavLink>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto\">\n            {user?._id ? (\n              <>\n                <NavLink className=\"nav-link\" to={`/profile/${user._id}`}>\n                  {user.name}\n                </NavLink>\n                <Nav.Link href=\"/account\">Account</Nav.Link>\n                <Button\n                  variant=\"link\"\n                  className=\"nav-link\"\n                  onClick={() => logoutHandler()}\n                >\n                  Log out\n                </Button>\n              </>\n            ) : (\n              <Nav.Link href=\"/auth/google\">Sign in</Nav.Link>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </>\n  );\n};\n\nexport default Nav_;\n","import React from \"react\";\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst FileListItemActions = ({ fileId }) => {\n  const deleteFile = async (fileId) => {\n    const res = await axios.delete(`/file/${fileId}`);\n    console.log(res);\n  };\n  const [showDeleteModal, setShowDeleteModal] = React.useState(\"hidden\");\n  return (\n    <>\n      <Row>\n        <Col xs={12}>\n          <ul className=\"list-inline my-2 float-right\">\n            <li className=\"list-inline-item\">\n              <Button variant=\"link\">Email</Button>\n            </li>\n            <li className=\"list-inline-item\">\n              <Button variant=\"link\">Save to GDrive</Button>\n            </li>\n            <li className=\"list-inline-item\">\n              <Button variant=\"link\">Download</Button>\n            </li>\n            <li className=\"list-inline-item\">\n              <Button\n                variant=\"link\"\n                onClick={() => setShowDeleteModal(\"visible\")}\n              >\n                Delete\n              </Button>\n            </li>\n          </ul>\n        </Col>\n        <Col\n          xs={12}\n          style={{ visibility: showDeleteModal }}\n          className=\"d-flex justify-content-around\"\n        >\n          <small>\n            <strong>\n              Are you sure you want to delete? This cannot be undone.\n            </strong>\n          </small>\n          <Button\n            variant=\"secondary\"\n            size=\"sm\"\n            onClick={() => deleteFile(fileId)}\n          >\n            Delete\n          </Button>\n          <Button\n            variant=\"warning\"\n            size=\"sm\"\n            onClick={() => setShowDeleteModal(\"hidden\")}\n          >\n            <strong>Cancel</strong>\n          </Button>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default FileListItemActions;\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nconst AudioPlayer = ({ file }) => {\n  const [pbSpeed, setPbSpeed] = React.useState(1.0);\n  const audioPlayerRef = React.useRef();\n  return !file ? null : (\n    <>\n      <audio\n        ref={audioPlayerRef}\n        // id={`audio-player-${file._id}`}\n        controls\n        style={{ width: \"100%\" }}\n      >\n        <source src={file.selfLink} type=\"audio/mpeg\" />\n        Your browser does not support the audio element.\n      </audio>\n      <div className=\" small text-muted d-flex justify-content-between\">\n        {[\n          \"0.5x\",\n          \"-\",\n          \"-\",\n          \"1.0x\",\n          \"+\",\n          \"+\",\n          \"+\",\n          \"+\",\n          \"+\",\n          \"+\",\n          \"2.0x\",\n          \"+\",\n          \"+\",\n          \"2.5x\",\n          \"+\",\n          \"+\",\n          \"3.0x\",\n        ].map((each, idx) => (\n          <span key={`pbSpeed-${file._id}-indicator-${idx}`} className=\"py-1\">\n            {each}\n          </span>\n        ))}\n      </div>\n      <Form.Control\n        name={`pbSpeed-${file._id}`}\n        value={pbSpeed}\n        type=\"range\"\n        step={0.1}\n        min={0.5}\n        max={3}\n        onChange={(e) => {\n          setPbSpeed(e.target.value);\n          audioPlayerRef.current.playbackRate = pbSpeed;\n        }}\n      />\n    </>\n  );\n};\n\nexport default AudioPlayer;\n","import React from \"react\";\nimport { ListGroup, Row, Col, Badge } from \"react-bootstrap\";\nimport Actions from \"./FileListItem/Actions\";\nimport AudioPlayer from \"./FileListItem/AudioPlayer\";\n\nconst FileListItem = ({ file }) => {\n  return (\n    <>\n      <ListGroup.Item>\n        <Row>\n          <Col lg={6}>\n            <h4>{file.metadata.title}</h4>\n            <p className=\"small text-truncate\">\n              <a href={file.sourceUrl} alt={file.metadata.title}>\n                {file.sourceUrl}\n              </a>\n            </p>\n            <p>\n              <Badge pill variant=\"primary\">\n                {file.job.status}\n              </Badge>\n              <small className=\"text-muted ml-2\">{file.metadata.excerpt}</small>\n            </p>\n          </Col>\n          <Col lg={6}>\n            <AudioPlayer file={file} />\n            <Actions fileId={file._id} />\n          </Col>\n        </Row>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default FileListItem;\n","import React from \"react\";\nimport { Row, Col, ListGroup } from \"react-bootstrap\";\nimport FileListItem from \"./FileListItem\";\n\nconst FileList = ({ files }) => {\n  return (\n    <Row>\n      <Col>\n        <ListGroup variant=\"flush\" className=\"mt-5\">\n          {files.map((file, idx) => (\n            <FileListItem key={`${file.owner}-file-${idx}`} file={file} />\n          ))}\n        </ListGroup>\n      </Col>\n    </Row>\n  );\n};\n\nexport default FileList;\n","import React from \"react\";\nimport { Row, Col, Image, ListGroup } from \"react-bootstrap\";\n\nconst ProfileCard = ({ user }) => {\n  return (\n    <>\n      <Row>\n        <Col md={4} className=\"d-flex justify-content-center\">\n          <Image\n            className=\"align-self-center\"\n            fluid\n            src={user.photo}\n            roundedCircle\n          />\n        </Col>\n        <Col md={8}>\n          <ListGroup variant=\"flush\">\n            {[\n              [\"Name\", \"name\"],\n              [\"Email\", \"email\"],\n            ].map(([label, key], idx) => (\n              <ListGroup.Item key={`profile-item-${idx}`}>\n                <Row>\n                  <Col md={3}>\n                    <strong>{label}</strong>\n                  </Col>\n                  <Col md={9}>{user[key]}</Col>\n                </Row>\n              </ListGroup.Item>\n            ))}\n\n            <ListGroup.Item>\n              <Row>\n                <Col md={3}>\n                  <strong>Day Limits</strong>\n                </Col>\n                <Col md={9}>{`${user.limits.perDayUsed} files\n            uploaded. You have ${\n              user.limits.perDayLimit - user.limits.perDayUsed\n            } uploads left for the day.`}</Col>\n              </Row>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Row>\n                <Col md={3}>\n                  <strong>Month Limits</strong>\n                </Col>\n                <Col md={9}>{`${\n                  user.limits.perMonthUsed\n                } files uploaded. You have\n            ${user.limits.perMonthLimit - user.limits.perMonthUsed} uploads left\n            for the month.`}</Col>\n              </Row>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Row>\n                <Col md={3}>\n                  <strong>File Limits</strong>\n                </Col>\n                <Col\n                  md={9}\n                >{`You have ${user.files.owner.length} file(s). You can keep up to\n            ${user.files.ownerLimit} files at any time.`}</Col>\n              </Row>\n            </ListGroup.Item>\n          </ListGroup>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default ProfileCard;\n","import React from \"react\";\nimport { Formik } from \"formik\";\nimport axios from \"axios\";\nimport { Row, Col, InputGroup, Form, Button } from \"react-bootstrap\";\nimport { useAlert } from \"react-alert\";\n\nconst UploadGroup = () => {\n  const alert = useAlert();\n\n  const postFile = async (url) => {\n    try {\n      const res = await axios.post(`/file`, { url });\n      if (res.status === 201) {\n        alert.success(\n          `Link uploaded successfully. Processing file... ${new Date().toLocaleString(\n            \"en-SG\",\n            {\n              dateStyle: \"long\",\n              timeStyle: \"long\",\n            }\n          )}\\n${res.data.sourceUrl}`\n        );\n      }\n    } catch (err) {\n      alert.error(err.response.data);\n      console.error(err.stack);\n    }\n  };\n\n  return (\n    <Row>\n      <Col>\n        <ol className=\"pl-4 mt-5\">\n          <li>\n            Submit url to a blog post or news article. Do not submit the same\n            article more than once.\n          </li>\n          <li>\n            Conversion will take place in the background. You may follow the\n            status of your article in the list below. This may take from a few\n            minutes to an hour, depending on the server.\n          </li>\n          <li>\n            In case of errors, or your article has not been converted after some\n            time, delete the item and try again.\n          </li>\n        </ol>\n        <Formik\n          onSubmit={(values, { resetForm }) => {\n            postFile(values.url);\n            resetForm();\n          }}\n          initialValues={{ url: \"\" }}\n          enableReinitialize={true}\n        >\n          {({ values, handleChange, handleSubmit }) => {\n            return (\n              <>\n                <InputGroup className=\"mb-3\">\n                  <Form.Control\n                    type=\"text\"\n                    id=\"url\"\n                    name=\"url\"\n                    placeholder=\"E.g. https://www.gemini.com/cryptopedia/compound-finance-defi-crypto\"\n                    autoComplete=\"off\"\n                    value={values.url}\n                    onChange={handleChange}\n                  />\n                  <InputGroup.Append>\n                    <Button variant=\"secondary\" onClick={handleSubmit}>\n                      Submit\n                    </Button>\n                  </InputGroup.Append>\n                </InputGroup>\n                <Form.Text className=\"text-muted\">\n                  Note: This service does not endorse the distribution of\n                  copyrighted materials. For personal use only.\n                </Form.Text>\n              </>\n            );\n          }}\n        </Formik>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UploadGroup;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { useQuery } from \"react-query\";\n\nimport FileList from \"../components/Profile/FileList\";\nimport ProfileCard from \"../components/Profile/ProfileCard\";\nimport UploadGroup from \"../components/Profile/UploadGroup\";\n\nconst Profile = () => {\n  const match = useRouteMatch();\n\n  const { data: user, status } = useQuery(\n    [\"user\", match.params.id],\n    async () => {\n      const res = await fetch(`/user/${match.params.id}`);\n      return res.json();\n    },\n    {\n      keepPreviousData: true,\n    }\n  );\n\n  return status === \"Loading\"\n    ? \"Loading\"\n    : status === \"success\" && (\n        <Container>\n          <ProfileCard user={user} />\n          <UploadGroup />\n          <FileList files={user.files.owner} />\n        </Container>\n      );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { Card, Container, Image, Row, Col } from \"react-bootstrap\";\n\nconst Home = () => {\n  return (\n    <div>\n      <div className=\"jumbotron\">\n        <div className=\"container text-center\">\n          <Image\n            fluid\n            roundedCircle\n            className=\"w-25\"\n            src={process.env.PUBLIC_URL + \"/images/icons/brand.png\"}\n            alt=\"brand-logo\"\n          />\n\n          <h1 className=\"display-3\">One Listen</h1>\n          <h3>Convert web articles to mp3.</h3>\n          <p>\n            A web application which converts your web articles into audio files.\n            Ideal for readers who want to consume content on-the-go.\n          </p>\n          <a className=\"btn btn-primary\" href=\"/#readme\">\n            Get started\n          </a>\n          <a className=\"btn btn-outline-secondary\" href=\"/#features\">\n            Learn more\n          </a>\n        </div>\n      </div>\n\n      <section id=\"features\" className=\"py-5\">\n        <Container>\n          <Row>\n            <Col md={4}>\n              <h2>Bring your own content</h2>\n              <p>\n                There are no pre-selected or curated content. You can save any\n                web news articles you want to read. Just as long as their body\n                text can be parsed by the web server.\n              </p>\n            </Col>\n            <Col md={4}>\n              <h2>Listen on speed mode</h2>\n              <p>\n                <a href=\"https://www.theatlantic.com/technology/archive/2015/06/the-rise-of-speed-listening/396740/\">\n                  Speed listening is the new speed reading.\n                </a>\n                It helps us learn more things, quicker. We can always go back to\n                gloss through the details, once we are brought up to speed with\n                the general content.\n              </p>\n            </Col>\n            <Col md={4}>\n              <h2>Upload your own text</h2>\n              <span className=\"badge badge-primary\">Coming soon</span>\n              <p>\n                Paste text or upload your text files. We'll read them back to\n                you.\n              </p>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n\n      <section id=\"readme\" className=\"bg-light py-5\">\n        <Container>\n          <h3>Please read before signing up:</h3>\n          <ol>\n            <li className=\"my-1\">\n              The audio files generated are meant for personal use only. Please\n              do not distribute copyrighted materials.\n            </li>\n            <li className=\"my-1\">\n              This service is hosted on personal cloud free-tier. The page may\n              load slow at certain times.\n            </li>\n            <li className=\"my-1\">To prevent abuse of the application:</li>\n            <ul>\n              <li className=\"my-1\">\n                You may only keep up to ten(10) converted files at any time.\n              </li>\n              <li className=\"my-1\">\n                You may only upload five(5) times a day, and for a total of\n                thirty(30) times in a month.\n              </li>\n            </ul>\n            <li className=\"my-1\">\n              Only English conversion is supported currently. Other languages\n              will be added in the future.\n            </li>\n            <li className=\"my-1\">\n              You will be requested to <strong>Sign in with Google</strong>,\n              which will grant the web application access to the following:\n              <ul>\n                <li>Your registered name for the google account</li>\n                <li>Your registered email</li>\n                <li>Your google account id</li>\n                <li>Your language preference</li>\n                <li>Your profile picture</li>\n                <li>\n                  Your access and refresh tokens, which are required for the\n                  application to read, write, and delete files on your Google\n                  Drive. It is required for uploading your audio files to Google\n                  Drive.\n                </li>\n                <li>\n                  <strong>\n                    A user account will be created using the information above\n                    and are kept in our database. You can see them on your\n                    profile page. You may request for deletion of your account\n                    at any time. Consequently, all your files will be deleted\n                    forever too.\n                  </strong>\n                </li>\n              </ul>\n              <li>\n                Strictly no confidential, illegal, violent, and/or pornographic\n                content.\n              </li>\n            </li>\n          </ol>\n        </Container>\n      </section>\n\n      <section id=\"signin\" className=\"py-5\">\n        <Container>\n          <Card className=\"mx-auto my-5\" style={{ width: \"23rem\" }}>\n            <Card.Body>\n              <Card.Title>Create account / Log in</Card.Title>\n              <a\n                className=\"btn btn-danger btn-block my-5\"\n                href=\"http://localhost:5000/auth/google\"\n              >\n                <span>\n                  <i className=\"bi bi-google mr-3\"></i>\n                </span>\n                Sign in with Google\n              </a>\n              <small>\n                Note: The application will be requesting for profile information\n                (name, email, googleId) and access to read and write files to\n                your Google Drive.\n              </small>\n            </Card.Body>\n          </Card>\n        </Container>\n      </section>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport { positions, Provider as AlertProvider } from \"react-alert\";\nimport AlertTemplate from \"./components/Alert\";\nimport Nav from \"./components/Nav\";\nimport Profile from \"./pages/Profile\";\nimport Home from \"./pages/Home\";\n\nconst App = () => {\n  const options = {\n    // you can also just use 'bottom center'\n    position: positions.BOTTOM_CENTER,\n    timeout: 5000,\n    offset: \"10px\",\n  };\n\n  return (\n    <AlertProvider template={AlertTemplate} {...options}>\n      <Nav />\n      <Route path=\"/profile/:id\" component={Profile} />\n      <Route exact path=\"/\" component={Home} />\n    </AlertProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <QueryClientProvider client={queryClient}>\n    <Router>\n      <App />\n    </Router>\n  </QueryClientProvider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}